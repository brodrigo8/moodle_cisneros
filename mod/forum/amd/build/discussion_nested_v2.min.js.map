{"version":3,"file":"discussion_nested_v2.min.js","sources":["../src/discussion_nested_v2.js"],"sourcesContent":["// This file is part of Moodle - http://moodle.org/\n//\n// Moodle is free software: you can redistribute it and/or modify\n// it under the terms of the GNU General Public License as published by\n// the Free Software Foundation, either version 3 of the License, or\n// (at your option) any later version.\n//\n// Moodle is distributed in the hope that it will be useful,\n// but WITHOUT ANY WARRANTY; without even the implied warranty of\n// MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n// GNU General Public License for more details.\n//\n// You should have received a copy of the GNU General Public License\n// along with Moodle.  If not, see <http://www.gnu.org/licenses/>.\n\n/**\n * Module for viewing a discussion in nested v2 view.\n *\n * @module mod_Forum/discussion_nested_v2\n * @copyright  2019 Ryan Wyllie <ryan@moodle.com>\n * @license    http://www.gnu.org/copyleft/gpl.html GNU GPL v3 or later\n */\nimport $ from 'jquery';\nimport AutoRows from 'core/auto_rows';\nimport CustomEvents from 'core/custom_interaction_events';\nimport * as FormChangeChecker from 'core_form/changechecker';\nimport Notification from 'core/notification';\nimport Templates from 'core/templates';\nimport Discussion from 'mod_forum/discussion';\nimport InPageReply from 'mod_forum/inpage_reply';\nimport LockToggle from 'mod_forum/lock_toggle';\nimport FavouriteToggle from 'mod_forum/favourite_toggle';\nimport Pin from 'mod_forum/pin_toggle';\nimport Selectors from 'mod_forum/selectors';\nimport Subscribe from 'mod_forum/subscription_toggle';\n\nconst ANIMATION_DURATION = 150;\n\n/**\n * Get the closest post container element from the given element.\n *\n * @param {Object} element jQuery element to search from\n * @return {Object} jQuery element\n */\nconst getPostContainer = (element) => {\n    return element.closest(Selectors.post.post);\n};\n\n/**\n * Get the closest post container element from the given element.\n *\n * @param {Object} element jQuery element to search from\n * @param {Number} id Id of the post to find.\n * @return {Object} jQuery element\n */\nconst getPostContainerById = (element, id) => {\n    return element.find(`${Selectors.post.post}[data-post-id=${id}]`);\n};\n\n/**\n * Get the parent post container elements from the given element.\n *\n * @param {Object} element jQuery element to search from\n * @return {Object} jQuery element\n */\nconst getParentPostContainers = (element) => {\n    return element.parents(Selectors.post.post);\n};\n\n/**\n * Get the post content container element from the post container element.\n *\n * @param {Object} postContainer jQuery element for the post container\n * @return {Object} jQuery element\n */\nconst getPostContentContainer = (postContainer) => {\n    return postContainer.children().not(Selectors.post.repliesContainer).find(Selectors.post.forumCoreContent);\n};\n\n/**\n * Get the in page reply container element from the post container element.\n *\n * @param {Object} postContainer jQuery element for the post container\n * @return {Object} jQuery element\n */\nconst getInPageReplyContainer = (postContainer) => {\n    return postContainer.children().filter(Selectors.post.inpageReplyContainer);\n};\n\n/**\n * Get the in page reply form element from the post container element.\n *\n * @param {Object} postContainer jQuery element for the post container\n * @return {Object} jQuery element\n */\nconst getInPageReplyForm = (postContainer) => {\n    return getInPageReplyContainer(postContainer).find(Selectors.post.inpageReplyContent);\n};\n\n/**\n * Get the in page reply create (reply) button element from the post container element.\n *\n * @param {Object} postContainer jQuery element for the post container\n * @return {Object} jQuery element\n */\nconst getInPageReplyCreateButton = (postContainer) => {\n    return getPostContentContainer(postContainer).find(Selectors.post.inpageReplyCreateButton);\n};\n\n/**\n * Get the replies visibility toggle container (show/hide replies button container) element\n * from the post container element.\n *\n * @param {Object} postContainer jQuery element for the post container\n * @return {Object} jQuery element\n */\nconst getRepliesVisibilityToggleContainer = (postContainer) => {\n    return postContainer.children(Selectors.post.repliesVisibilityToggleContainer);\n};\n\n/**\n * Get the replies container element from the post container element.\n *\n * @param {Object} postContainer jQuery element for the post container\n * @return {Object} jQuery element\n */\nconst getRepliesContainer = (postContainer) => {\n    return postContainer.children(Selectors.post.repliesContainer);\n};\n\n/**\n * Check if the post has any replies.\n *\n * @param {Object} postContainer jQuery element for the post container\n * @return {Bool}\n */\nconst hasReplies = (postContainer) => {\n    return getRepliesContainer(postContainer).children().length > 0;\n};\n\n/**\n * Get the show replies button element from the replies visibility toggle container element.\n *\n * @param {Object} replyVisibilityToggleContainer jQuery element for the toggle container\n * @return {Object} jQuery element\n */\nconst getShowRepliesButton = (replyVisibilityToggleContainer) => {\n    return replyVisibilityToggleContainer.find(Selectors.post.showReplies);\n};\n\n/**\n * Get the hide replies button element from the replies visibility toggle container element.\n *\n * @param {Object} replyVisibilityToggleContainer jQuery element for the toggle container\n * @return {Object} jQuery element\n */\nconst getHideRepliesButton = (replyVisibilityToggleContainer) => {\n    return replyVisibilityToggleContainer.find(Selectors.post.hideReplies);\n};\n\n/**\n * Check if the replies are visible.\n *\n * @param {Object} postContainer jQuery element for the post container\n * @return {Bool}\n */\nconst repliesVisible = (postContainer) => {\n    const repliesContainer = getRepliesContainer(postContainer);\n    return repliesContainer.is(':visible');\n};\n\n/**\n * Show the post replies.\n *\n * @param {Object} postContainer jQuery element for the post container\n * @param {Number|null} postIdToSee Id of the post to scroll into view (if any)\n */\nconst showReplies = (postContainer, postIdToSee = null) => {\n    const repliesContainer = getRepliesContainer(postContainer);\n    const replyVisibilityToggleContainer = getRepliesVisibilityToggleContainer(postContainer);\n    const showButton = getShowRepliesButton(replyVisibilityToggleContainer);\n    const hideButton = getHideRepliesButton(replyVisibilityToggleContainer);\n\n    showButton.addClass('hidden');\n    hideButton.removeClass('hidden');\n\n    repliesContainer.slideDown({\n        duration: ANIMATION_DURATION,\n        queue: false,\n        complete: () => {\n            if (postIdToSee) {\n                const postContainerToSee = getPostContainerById(repliesContainer, postIdToSee);\n                if (postContainerToSee.length) {\n                    postContainerToSee[0].scrollIntoView();\n                }\n            }\n        }\n    }).css('display', 'none').fadeIn(ANIMATION_DURATION);\n};\n\n/**\n * Hide the post replies.\n *\n * @param {Object} postContainer jQuery element for the post container\n */\nconst hideReplies = (postContainer) => {\n    const repliesContainer = getRepliesContainer(postContainer);\n    const replyVisibilityToggleContainer = getRepliesVisibilityToggleContainer(postContainer);\n    const showButton = getShowRepliesButton(replyVisibilityToggleContainer);\n    const hideButton = getHideRepliesButton(replyVisibilityToggleContainer);\n\n    showButton.removeClass('hidden');\n    hideButton.addClass('hidden');\n\n    repliesContainer.slideUp({\n        duration: ANIMATION_DURATION,\n        queue: false\n    }).fadeOut(ANIMATION_DURATION);\n};\n\n/** Variable to hold the showInPageReplyForm function after it's built. */\nlet showInPageReplyForm = null;\n\n/**\n * Build the showInPageReplyForm function with the given additional template context.\n *\n * @param {Object} additionalTemplateContext Additional render context for the in page reply template.\n * @return {Function}\n */\nconst buildShowInPageReplyFormFunction = (additionalTemplateContext) => {\n    /**\n     * Show the in page reply form in the given in page reply container. The form\n     * display will be animated.\n     *\n     * @param {Object} postContainer jQuery element for the post container\n     */\n    return async(postContainer) => {\n\n        const inPageReplyContainer = getInPageReplyContainer(postContainer);\n        const repliesVisibilityToggleContainer = getRepliesVisibilityToggleContainer(postContainer);\n        const inPageReplyCreateButton = getInPageReplyCreateButton(postContainer);\n\n        if (!hasInPageReplyForm(inPageReplyContainer)) {\n            try {\n                const html = await renderInPageReplyTemplate(additionalTemplateContext, inPageReplyCreateButton, postContainer);\n                Templates.appendNodeContents(inPageReplyContainer, html, '');\n            } catch (e) {\n                Notification.exception(e);\n            }\n\n            FormChangeChecker.watchForm(postContainer[0].querySelector('form'));\n        }\n\n        inPageReplyCreateButton.fadeOut(ANIMATION_DURATION, () => {\n            const inPageReplyForm = getInPageReplyForm(postContainer);\n            inPageReplyForm.slideDown({\n                duration: ANIMATION_DURATION,\n                queue: false,\n                complete: () => {\n                    inPageReplyForm.find('textarea').focus();\n                }\n            }).css('display', 'none').fadeIn(ANIMATION_DURATION);\n\n            if (repliesVisibilityToggleContainer.length && hasReplies(postContainer)) {\n                repliesVisibilityToggleContainer.fadeIn(ANIMATION_DURATION);\n                hideReplies(postContainer);\n            }\n        });\n    };\n};\n\n/**\n * Hide the in page reply form in the given in page reply container. The form\n * display will be animated.\n *\n * @param {Object} postContainer jQuery element for the post container\n * @param {Number|null} postIdToSee Id of the post to scroll into view (if any)\n */\nconst hideInPageReplyForm = (postContainer, postIdToSee = null) => {\n    const inPageReplyForm = getInPageReplyForm(postContainer);\n    const inPageReplyCreateButton = getInPageReplyCreateButton(postContainer);\n    const repliesVisibilityToggleContainer = getRepliesVisibilityToggleContainer(postContainer);\n\n    if (repliesVisibilityToggleContainer.length && hasReplies(postContainer)) {\n        repliesVisibilityToggleContainer.fadeOut(ANIMATION_DURATION);\n        if (!repliesVisible(postContainer)) {\n            showReplies(postContainer, postIdToSee);\n        }\n    }\n\n    inPageReplyForm.slideUp({\n        duration: ANIMATION_DURATION,\n        queue: false,\n        complete: () => {\n            inPageReplyCreateButton.fadeIn(ANIMATION_DURATION);\n        }\n    }).fadeOut(200);\n};\n\n/**\n * Check if the in page reply container contains the in page reply form.\n *\n * @param {Object} inPageReplyContainer jQuery element for the in page reply container\n * @return {Bool}\n */\nconst hasInPageReplyForm = (inPageReplyContainer) => {\n    return inPageReplyContainer.find(Selectors.post.inpageReplyContent).length > 0;\n};\n\n/**\n * Render the template to generate the in page reply form HTML.\n *\n * @param {Object} additionalTemplateContext Additional render context for the in page reply template\n * @param {Object} button jQuery element for the reply button that was clicked\n * @param {Object} postContainer jQuery element for the post container\n * @return {Object} jQuery promise\n */\nconst renderInPageReplyTemplate = (additionalTemplateContext, button, postContainer) => {\n    const postContentContainer = getPostContentContainer(postContainer);\n    const currentSubject = postContentContainer.find(Selectors.post.forumSubject).text();\n    const currentAuthorName = postContentContainer.find(Selectors.post.authorName).text();\n    const context = {\n        postid: postContainer.data('post-id'),\n        \"reply_url\": button.attr('data-href'),\n        sesskey: M.cfg.sesskey,\n        parentsubject: currentSubject,\n        parentauthorname: currentAuthorName,\n        canreplyprivately: button.data('can-reply-privately'),\n        postformat: InPageReply.CONTENT_FORMATS.MOODLE,\n        ...additionalTemplateContext\n    };\n\n    return Templates.render('mod_forum/inpage_reply_v2', context);\n};\n\n/**\n * Increment the total reply count in the show/hide replies buttons for the post.\n *\n * @param {Object} postContainer jQuery element for the post container\n */\nconst incrementTotalReplyCount = (postContainer) => {\n    getRepliesVisibilityToggleContainer(postContainer).find(Selectors.post.replyCount).each((index, element) => {\n        const currentCount = parseInt(element.innerText, 10);\n        element.innerText = currentCount + 1;\n    });\n};\n\n/**\n * Create all of the event listeners for the discussion.\n *\n * @param {Object} root jQuery element for the discussion container\n */\nconst registerEventListeners = (root) => {\n    CustomEvents.define(root, [CustomEvents.events.activate]);\n    // Auto expanding text area for in page reply.\n    AutoRows.init(root);\n\n    // Reply button is clicked.\n    root.on(CustomEvents.events.activate, Selectors.post.inpageReplyCreateButton, (e, data) => {\n        data.originalEvent.preventDefault();\n        const postContainer = getPostContainer($(e.currentTarget));\n        showInPageReplyForm(postContainer);\n    });\n\n    // Cancel in page reply button.\n    root.on(CustomEvents.events.activate, Selectors.post.inpageReplyCancelButton, (e, data) => {\n        data.originalEvent.preventDefault();\n        const postContainer = getPostContainer($(e.currentTarget));\n        hideInPageReplyForm(postContainer);\n    });\n\n    // Show replies button clicked.\n    root.on(CustomEvents.events.activate, Selectors.post.showReplies, (e, data) => {\n        data.originalEvent.preventDefault();\n        const postContainer = getPostContainer($(e.target));\n        showReplies(postContainer);\n    });\n\n    // Hide replies button clicked.\n    root.on(CustomEvents.events.activate, Selectors.post.hideReplies, (e, data) => {\n        data.originalEvent.preventDefault();\n        const postContainer = getPostContainer($(e.target));\n        hideReplies(postContainer);\n    });\n\n    // Post created with in page reply.\n    root.on(InPageReply.EVENTS.POST_CREATED, Selectors.post.inpageSubmitBtn, (e, newPostId) => {\n        const currentTarget = $(e.currentTarget);\n        const postContainer = getPostContainer(currentTarget);\n        const postContainers = getParentPostContainers(currentTarget);\n        hideInPageReplyForm(postContainer, newPostId);\n\n        postContainers.each((index, container) => {\n            incrementTotalReplyCount($(container));\n        });\n    });\n};\n\n/**\n * Initialise the javascript for the discussion in nested v2 display mode.\n *\n * @param {Object} root jQuery element for the discussion container\n * @param {Object} context Additional render context for the in page reply template\n */\nexport const init = (root, context) => {\n    // Build the showInPageReplyForm function with the additional render context.\n    showInPageReplyForm = buildShowInPageReplyFormFunction(context);\n    // Add discussion event listeners.\n    registerEventListeners(root);\n    // Initialise default discussion javascript (keyboard nav etc).\n    Discussion.init(root);\n    // Add in page reply javascript.\n    InPageReply.init(root);\n\n    // Initialise the settings menu javascript.\n    const discussionToolsContainer = root.find(Selectors.discussion.tools);\n    LockToggle.init(discussionToolsContainer, false);\n    FavouriteToggle.init(discussionToolsContainer, false, (toggleElement, response) => {\n        const newTargetState = response.userstate.favourited ? 0 : 1;\n        return toggleElement.data('targetstate', newTargetState);\n    });\n    Pin.init(discussionToolsContainer, false, (toggleElement, response) => {\n        const newTargetState = response.pinned ? 0 : 1;\n        return toggleElement.data('targetstate', newTargetState);\n    });\n    Subscribe.init(discussionToolsContainer, false, (toggleElement, response) => {\n        const newTargetState = response.userstate.subscribed ? 0 : 1;\n        toggleElement.data('targetstate', newTargetState);\n    });\n};\n"],"names":["_getRequireWildcardCache","nodeInterop","WeakMap","cacheBabelInterop","cacheNodeInterop","_interopRequireDefault","obj","__esModule","default","ownKeys","object","enumerableOnly","keys","Object","getOwnPropertySymbols","symbols","filter","sym","getOwnPropertyDescriptor","enumerable","push","apply","_defineProperty","key","value","arg","input","hint","_typeof","prim","Symbol","toPrimitive","undefined","res","call","TypeError","String","Number","_toPrimitive","_toPropertyKey","defineProperty","configurable","writable","_regeneratorRuntime","exports","Op","prototype","hasOwn","hasOwnProperty","desc","$Symbol","iteratorSymbol","iterator","asyncIteratorSymbol","asyncIterator","toStringTagSymbol","toStringTag","define","err","wrap","innerFn","outerFn","self","tryLocsList","protoGenerator","Generator","generator","create","context","Context","makeInvokeMethod","tryCatch","fn","type","ContinueSentinel","GeneratorFunction","GeneratorFunctionPrototype","IteratorPrototype","this","getProto","getPrototypeOf","NativeIteratorPrototype","values","Gp","defineIteratorMethods","forEach","method","_invoke","AsyncIterator","PromiseImpl","invoke","resolve","reject","record","result","__await","then","unwrapped","error","previousPromise","callInvokeWithMethodAndArg","state","Error","doneResult","delegate","delegateResult","maybeInvokeDelegate","sent","_sent","dispatchException","abrupt","done","methodName","return","info","resultName","next","nextLoc","pushTryEntry","locs","entry","tryLoc","catchLoc","finallyLoc","afterLoc","tryEntries","resetTryEntry","completion","reset","iterable","iteratorMethod","isNaN","length","i","displayName","isGeneratorFunction","genFun","ctor","constructor","name","mark","setPrototypeOf","__proto__","awrap","async","Promise","iter","val","reverse","pop","skipTempReset","prev","charAt","slice","stop","rootRecord","rval","exception","handle","loc","caught","hasCatch","hasFinally","finallyEntry","complete","finish","catch","thrown","delegateYield","asyncGeneratorStep","gen","_next","_throw","_jquery","_auto_rows","_custom_interaction_events","FormChangeChecker","cache","has","get","newObj","hasPropertyDescriptor","set","_interopRequireWildcard","_notification","_templates","_discussion","_inpage_reply","_lock_toggle","_favourite_toggle","_pin_toggle","_selectors","_subscription_toggle","getPostContainer","element","closest","Selectors","post","getPostContainerById","id","find","getPostContentContainer","postContainer","children","not","repliesContainer","forumCoreContent","getInPageReplyContainer","inpageReplyContainer","getInPageReplyForm","inpageReplyContent","getInPageReplyCreateButton","inpageReplyCreateButton","getRepliesVisibilityToggleContainer","repliesVisibilityToggleContainer","getRepliesContainer","hasReplies","getShowRepliesButton","replyVisibilityToggleContainer","showReplies","getHideRepliesButton","hideReplies","repliesVisible","is","postIdToSee","showButton","hideButton","addClass","removeClass","slideDown","duration","queue","postContainerToSee","scrollIntoView","css","fadeIn","slideUp","fadeOut","showInPageReplyForm","buildShowInPageReplyFormFunction","additionalTemplateContext","inPageReplyContainer","inPageReplyCreateButton","html","_context","hasInPageReplyForm","renderInPageReplyTemplate","Templates","appendNodeContents","t0","Notification","watchForm","querySelector","inPageReplyForm","focus","_callee","_ref","args","arguments","_x","hideInPageReplyForm","button","postContentContainer","currentSubject","forumSubject","text","currentAuthorName","authorName","target","source","getOwnPropertyDescriptors","defineProperties","_objectSpread","postid","data","reply_url","attr","sesskey","M","cfg","parentsubject","parentauthorname","canreplyprivately","postformat","InPageReply","CONTENT_FORMATS","MOODLE","render","registerEventListeners","root","CustomEvents","events","activate","AutoRows","init","on","e","originalEvent","preventDefault","$","currentTarget","inpageReplyCancelButton","EVENTS","POST_CREATED","inpageSubmitBtn","newPostId","postContainers","parents","each","index","container","replyCount","currentCount","parseInt","innerText","incrementTotalReplyCount","_exports","Discussion","discussionToolsContainer","discussion","tools","LockToggle","FavouriteToggle","toggleElement","response","newTargetState","userstate","favourited","Pin","pinned","Subscribe","subscribed"],"mappings":"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"}