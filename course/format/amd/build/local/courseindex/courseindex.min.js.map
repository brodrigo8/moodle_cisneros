{"version":3,"file":"courseindex.min.js","sources":["../../../src/local/courseindex/courseindex.js"],"sourcesContent":["// This file is part of Moodle - http://moodle.org/\n//\n// Moodle is free software: you can redistribute it and/or modify\n// it under the terms of the GNU General Public License as published by\n// the Free Software Foundation, either version 3 of the License, or\n// (at your option) any later version.\n//\n// Moodle is distributed in the hope that it will be useful,\n// but WITHOUT ANY WARRANTY; without even the implied warranty of\n// MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n// GNU General Public License for more details.\n//\n// You should have received a copy of the GNU General Public License\n// along with Moodle.  If not, see <http://www.gnu.org/licenses/>.\n\n/**\n * Course index main component.\n *\n * @module     core_courseformat/local/courseindex/courseindex\n * @class     core_courseformat/local/courseindex/courseindex\n * @copyright  2021 Ferran Recio <ferran@moodle.com>\n * @license    http://www.gnu.org/copyleft/gpl.html GNU GPL v3 or later\n */\n\nimport {BaseComponent} from 'core/reactive';\nimport {getCurrentCourseEditor} from 'core_courseformat/courseeditor';\nimport jQuery from 'jquery';\nimport ContentTree from 'core_courseformat/local/courseeditor/contenttree';\n\nexport default class Component extends BaseComponent {\n\n    /**\n     * Constructor hook.\n     */\n    create() {\n        // Optional component name for debugging.\n        this.name = 'courseindex';\n        // Default query selectors.\n        this.selectors = {\n            SECTION: `[data-for='section']`,\n            SECTION_CMLIST: `[data-for='cmlist']`,\n            CM: `[data-for='cm']`,\n            TOGGLER: `[data-action=\"togglecourseindexsection\"]`,\n            COLLAPSE: `[data-toggle=\"collapse\"]`,\n            DRAWER: `.drawer`,\n        };\n        // Default classes to toggle on refresh.\n        this.classes = {\n            SECTIONHIDDEN: 'dimmed',\n            CMHIDDEN: 'dimmed',\n            SECTIONCURRENT: 'current',\n            COLLAPSED: `collapsed`,\n            SHOW: `show`,\n        };\n        // Arrays to keep cms and sections elements.\n        this.sections = {};\n        this.cms = {};\n    }\n\n    /**\n     * Static method to create a component instance form the mustache template.\n     *\n     * @param {element|string} target the DOM main element or its ID\n     * @param {object} selectors optional css selector overrides\n     * @return {Component}\n     */\n    static init(target, selectors) {\n        return new this({\n            element: document.getElementById(target),\n            reactive: getCurrentCourseEditor(),\n            selectors,\n        });\n    }\n\n    /**\n     * Initial state ready method.\n     *\n     * @param {Object} state the state data\n     */\n    stateReady(state) {\n        // Activate section togglers.\n        this.addEventListener(this.element, 'click', this._sectionTogglers);\n\n        // Get cms and sections elements.\n        const sections = this.getElements(this.selectors.SECTION);\n        sections.forEach((section) => {\n            this.sections[section.dataset.id] = section;\n        });\n        const cms = this.getElements(this.selectors.CM);\n        cms.forEach((cm) => {\n            this.cms[cm.dataset.id] = cm;\n        });\n\n        // Set the page item if any.\n        this._refreshPageItem({element: state.course, state});\n\n        // Configure Aria Tree.\n        this.contentTree = new ContentTree(this.element, this.selectors, this.reactive.isEditing);\n    }\n\n    getWatchers() {\n        return [\n            {watch: `section.indexcollapsed:updated`, handler: this._refreshSectionCollapsed},\n            {watch: `cm:created`, handler: this._createCm},\n            {watch: `cm:deleted`, handler: this._deleteCm},\n            {watch: `section:created`, handler: this._createSection},\n            {watch: `section:deleted`, handler: this._deleteSection},\n            {watch: `course.pageItem:created`, handler: this._refreshPageItem},\n            {watch: `course.pageItem:updated`, handler: this._refreshPageItem},\n            // Sections and cm sorting.\n            {watch: `course.sectionlist:updated`, handler: this._refreshCourseSectionlist},\n            {watch: `section.cmlist:updated`, handler: this._refreshSectionCmlist},\n        ];\n    }\n\n    /**\n     * Setup sections toggler.\n     *\n     * Toggler click is delegated to the main course index element because new sections can\n     * appear at any moment and this way we prevent accidental double bindings.\n     *\n     * @param {Event} event the triggered event\n     */\n    _sectionTogglers(event) {\n        const sectionlink = event.target.closest(this.selectors.TOGGLER);\n        const isChevron = event.target.closest(this.selectors.COLLAPSE);\n\n        if (sectionlink || isChevron) {\n\n            const section = event.target.closest(this.selectors.SECTION);\n            const toggler = section.querySelector(this.selectors.COLLAPSE);\n            const isCollapsed = toggler?.classList.contains(this.classes.COLLAPSED) ?? false;\n\n            if (isChevron || isCollapsed) {\n                // Update the state.\n                const sectionId = section.getAttribute('data-id');\n                this.reactive.dispatch(\n                    'sectionIndexCollapsed',\n                    [sectionId],\n                    !isCollapsed\n                );\n            }\n        }\n    }\n\n    /**\n     * Update section collapsed.\n     *\n     * @param {object} args\n     * @param {object} args.element The leement to be expanded\n     */\n    _refreshSectionCollapsed({element}) {\n        const target = this.getElement(this.selectors.SECTION, element.id);\n        if (!target) {\n            throw new Error(`Unkown section with ID ${element.id}`);\n        }\n        // Check if it is already done.\n        const toggler = target.querySelector(this.selectors.COLLAPSE);\n        const isCollapsed = toggler?.classList.contains(this.classes.COLLAPSED) ?? false;\n\n        if (element.indexcollapsed !== isCollapsed) {\n            this._expandSectionNode(element);\n        }\n    }\n\n    /**\n     * Expand a section node.\n     *\n     * By default the method will use element.indexcollapsed to decide if the\n     * section is opened or closed. However, using forceValue it is possible\n     * to open or close a section independant from the indexcollapsed attribute.\n     *\n     * @param {Object} element the course module state element\n     * @param {boolean} forceValue optional forced expanded value\n     */\n    _expandSectionNode(element, forceValue) {\n        const target = this.getElement(this.selectors.SECTION, element.id);\n        const toggler = target.querySelector(this.selectors.COLLAPSE);\n        let collapsibleId = toggler.dataset.target ?? toggler.getAttribute(\"href\");\n        if (!collapsibleId) {\n            return;\n        }\n        collapsibleId = collapsibleId.replace('#', '');\n        const collapsible = document.getElementById(collapsibleId);\n        if (!collapsible) {\n            return;\n        }\n\n        if (forceValue === undefined) {\n            forceValue = (element.indexcollapsed) ? false : true;\n        }\n\n        // Course index is based on Bootstrap 4 collapsibles. To collapse them we need jQuery to\n        // interact with collapsibles methods. Hopefully, this will change in Bootstrap 5 because\n        // it does not require jQuery anymore (when MDL-71979 is integrated).\n        const togglerValue = (forceValue) ? 'show' : 'hide';\n        jQuery(collapsible).collapse(togglerValue);\n    }\n\n    /**\n     * Handle a page item update.\n     *\n     * @param {Object} details the update details\n     * @param {Object} details.state the state data.\n     * @param {Object} details.element the course state data.\n     */\n    _refreshPageItem({element, state}) {\n        if (!element?.pageItem?.isStatic || element.pageItem.type != 'cm') {\n            return;\n        }\n        // Check if we need to uncollapse the section and scroll to the element.\n        const section = state.section.get(element.pageItem.sectionId);\n        if (section.indexcollapsed) {\n            this._expandSectionNode(section, true);\n            setTimeout(\n                () => this.cms[element.pageItem.id]?.scrollIntoView({block: \"nearest\"}),\n                250\n            );\n        }\n    }\n\n    /**\n     * Create a newcm instance.\n     *\n     * @param {object} param\n     * @param {Object} param.state\n     * @param {Object} param.element\n     */\n    async _createCm({state, element}) {\n        // Create a fake node while the component is loading.\n        const fakeelement = document.createElement('li');\n        fakeelement.classList.add('bg-pulse-grey', 'w-100');\n        fakeelement.innerHTML = '&nbsp;';\n        this.cms[element.id] = fakeelement;\n        // Place the fake node on the correct position.\n        this._refreshSectionCmlist({\n            state,\n            element: state.section.get(element.sectionid),\n        });\n        // Collect render data.\n        const exporter = this.reactive.getExporter();\n        const data = exporter.cm(state, element);\n        // Create the new content.\n        const newcomponent = await this.renderComponent(fakeelement, 'core_courseformat/local/courseindex/cm', data);\n        // Replace the fake node with the real content.\n        const newelement = newcomponent.getElement();\n        this.cms[element.id] = newelement;\n        fakeelement.parentNode.replaceChild(newelement, fakeelement);\n    }\n\n    /**\n     * Create a new section instance.\n     *\n     * @param {Object} details the update details.\n     * @param {Object} details.state the state data.\n     * @param {Object} details.element the element data.\n     */\n    async _createSection({state, element}) {\n        // Create a fake node while the component is loading.\n        const fakeelement = document.createElement('div');\n        fakeelement.classList.add('bg-pulse-grey', 'w-100');\n        fakeelement.innerHTML = '&nbsp;';\n        this.sections[element.id] = fakeelement;\n        // Place the fake node on the correct position.\n        this._refreshCourseSectionlist({\n            state,\n            element: state.course,\n        });\n        // Collect render data.\n        const exporter = this.reactive.getExporter();\n        const data = exporter.section(state, element);\n        // Create the new content.\n        const newcomponent = await this.renderComponent(fakeelement, 'core_courseformat/local/courseindex/section', data);\n        // Replace the fake node with the real content.\n        const newelement = newcomponent.getElement();\n        this.sections[element.id] = newelement;\n        fakeelement.parentNode.replaceChild(newelement, fakeelement);\n    }\n\n    /**\n     * Refresh a section cm list.\n     *\n     * @param {object} param\n     * @param {Object} param.element\n     */\n    _refreshSectionCmlist({element}) {\n        const cmlist = element.cmlist ?? [];\n        const listparent = this.getElement(this.selectors.SECTION_CMLIST, element.id);\n        this._fixOrder(listparent, cmlist, this.cms);\n    }\n\n    /**\n     * Refresh the section list.\n     *\n     * @param {object} param\n     * @param {Object} param.element\n     */\n    _refreshCourseSectionlist({element}) {\n        const sectionlist = element.sectionlist ?? [];\n        this._fixOrder(this.element, sectionlist, this.sections);\n    }\n\n    /**\n     * Fix/reorder the section or cms order.\n     *\n     * @param {Element} container the HTML element to reorder.\n     * @param {Array} neworder an array with the ids order\n     * @param {Array} allitems the list of html elements that can be placed in the container\n     */\n    _fixOrder(container, neworder, allitems) {\n\n        // Empty lists should not be visible.\n        if (!neworder.length) {\n            container.classList.add('hidden');\n            container.innerHTML = '';\n            return;\n        }\n\n        // Grant the list is visible (in case it was empty).\n        container.classList.remove('hidden');\n\n        // Move the elements in order at the beginning of the list.\n        neworder.forEach((itemid, index) => {\n            const item = allitems[itemid];\n            // Get the current element at that position.\n            const currentitem = container.children[index];\n            if (currentitem === undefined) {\n                container.append(item);\n                return;\n            }\n            if (currentitem !== item) {\n                container.insertBefore(item, currentitem);\n            }\n        });\n        // Remove the remaining elements.\n        while (container.children.length > neworder.length) {\n            container.removeChild(container.lastChild);\n        }\n    }\n\n    /**\n     * Remove a cm from the list.\n     *\n     * The actual DOM element removal is delegated to the cm component.\n     *\n     * @param {object} param\n     * @param {Object} param.element\n     */\n    _deleteCm({element}) {\n        delete this.cms[element.id];\n    }\n\n    /**\n     * Remove a section from the list.\n     *\n     * The actual DOM element removal is delegated to the section component.\n     *\n     * @param {Object} details the update details.\n     * @param {Object} details.element the element data.\n     */\n    _deleteSection({element}) {\n        delete this.sections[element.id];\n    }\n}\n"],"names":["_interopRequireDefault","obj","__esModule","default","_regeneratorRuntime","exports","Op","Object","prototype","hasOwn","hasOwnProperty","defineProperty","key","desc","value","$Symbol","Symbol","iteratorSymbol","iterator","asyncIteratorSymbol","asyncIterator","toStringTagSymbol","toStringTag","define","enumerable","configurable","writable","err","wrap","innerFn","outerFn","self","tryLocsList","protoGenerator","Generator","generator","create","context","Context","makeInvokeMethod","tryCatch","fn","arg","type","call","ContinueSentinel","GeneratorFunction","GeneratorFunctionPrototype","IteratorPrototype","this","getProto","getPrototypeOf","NativeIteratorPrototype","values","Gp","defineIteratorMethods","forEach","method","_invoke","AsyncIterator","PromiseImpl","invoke","resolve","reject","record","result","_typeof","__await","then","unwrapped","error","previousPromise","callInvokeWithMethodAndArg","state","Error","doneResult","delegate","delegateResult","maybeInvokeDelegate","sent","_sent","dispatchException","abrupt","done","methodName","undefined","return","TypeError","info","resultName","next","nextLoc","pushTryEntry","locs","entry","tryLoc","catchLoc","finallyLoc","afterLoc","tryEntries","push","resetTryEntry","completion","reset","iterable","iteratorMethod","isNaN","length","i","displayName","isGeneratorFunction","genFun","ctor","constructor","name","mark","setPrototypeOf","__proto__","awrap","async","Promise","iter","keys","val","object","reverse","pop","skipTempReset","prev","charAt","slice","stop","rootRecord","rval","exception","handle","loc","caught","hasCatch","hasFinally","finallyEntry","complete","finish","catch","thrown","delegateYield","asyncGeneratorStep","gen","_next","_throw","_asyncToGenerator","args","arguments","apply","_classCallCheck","instance","Constructor","_defineProperties","target","props","descriptor","input","hint","prim","toPrimitive","res","String","Number","_toPrimitive","_setPrototypeOf","o","p","bind","_createSuper","Derived","hasNativeReflectConstruct","Reflect","construct","sham","Proxy","Boolean","valueOf","e","_isNativeReflectConstruct","Super","_getPrototypeOf","NewTarget","_possibleConstructorReturn","ReferenceError","_assertThisInitialized","_jquery","_contenttree","Component","_BaseComponent","subClass","superClass","_inherits","protoProps","staticProps","_createSection2","_createCm2","_super","selectors","SECTION","SECTION_CMLIST","CM","TOGGLER","COLLAPSE","DRAWER","classes","SECTIONHIDDEN","CMHIDDEN","SECTIONCURRENT","COLLAPSED","SHOW","sections","cms","_this","addEventListener","element","_sectionTogglers","getElements","section","dataset","id","cm","_refreshPageItem","course","contentTree","ContentTree","reactive","isEditing","watch","handler","_refreshSectionCollapsed","_createCm","_deleteCm","_createSection","_deleteSection","_refreshCourseSectionlist","_refreshSectionCmlist","event","sectionlink","closest","isChevron","_toggler$classList$co","toggler","querySelector","isCollapsed","classList","contains","sectionId","getAttribute","dispatch","_ref","_toggler$classList$co2","getElement","concat","indexcollapsed","_expandSectionNode","forceValue","_toggler$dataset$targ","collapsibleId","replace","collapsible","document","getElementById","togglerValue","jQuery","collapse","_ref2","_element$pageItem","_this2","pageItem","isStatic","get","setTimeout","_this2$cms$element$pa","scrollIntoView","block","_callee","_ref3","fakeelement","exporter","data","newcomponent","newelement","_context","createElement","add","innerHTML","sectionid","getExporter","renderComponent","parentNode","replaceChild","_x","_callee2","_ref4","_context2","_x2","_ref5","_element$cmlist","cmlist","listparent","_fixOrder","_ref6","_element$sectionlist","sectionlist","container","neworder","allitems","remove","itemid","index","item","currentitem","children","insertBefore","append","removeChild","lastChild","_ref7","_ref8","getCurrentCourseEditor","BaseComponent","_exports"],"mappings":"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"}