{"version":3,"file":"dynamicform.min.js","sources":["../src/dynamicform.js"],"sourcesContent":["// This file is part of Moodle - http://moodle.org/\n//\n// Moodle is free software: you can redistribute it and/or modify\n// it under the terms of the GNU General Public License as published by\n// the Free Software Foundation, either version 3 of the License, or\n// (at your option) any later version.\n//\n// Moodle is distributed in the hope that it will be useful,\n// but WITHOUT ANY WARRANTY; without even the implied warranty of\n// MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n// GNU General Public License for more details.\n//\n// You should have received a copy of the GNU General Public License\n// along with Moodle.  If not, see <http://www.gnu.org/licenses/>.\n\n/**\n * Display an embedded form, it is only loaded and reloaded inside its container\n *\n *\n * @module     core_form/dynamicform\n * @copyright  2019 Marina Glancy\n * @license    http://www.gnu.org/copyleft/gpl.html GNU GPL v3 or later\n * See also https://docs.moodle.org/dev/Modal_and_AJAX_forms\n *\n * @example\n *    import DynamicForm from 'core_form/dynamicform';\n *\n *    const dynamicForm = new DynamicForm(document.querySelector('#mycontainer', 'pluginname\\\\form\\\\formname');\n *    dynamicForm.addEventListener(dynamicForm.events.FORM_SUBMITTED, e => {\n *        e.preventDefault();\n *        window.console.log(e.detail);\n *        dynamicForm.container.innerHTML = 'Thank you, your form is submitted!';\n *    });\n *    dynamicForm.load();\n *\n */\n\nimport * as FormChangeChecker from 'core_form/changechecker';\nimport * as FormEvents from 'core_form/events';\nimport Ajax from 'core/ajax';\nimport Fragment from 'core/fragment';\nimport Notification from 'core/notification';\nimport Pending from 'core/pending';\nimport Templates from 'core/templates';\nimport {get_strings as getStrings} from 'core/str';\nimport {serialize} from './util';\n\n/**\n * @class core_form/dynamicform\n */\nexport default class DynamicForm {\n\n    /**\n     * Various events that can be observed.\n     *\n     * @type {Object}\n     */\n    events = {\n        // Form was successfully submitted - the response is passed to the event listener.\n        // Cancellable (in order to prevent default behavior to clear the container).\n        FORM_SUBMITTED: 'core_form_dynamicform_formsubmitted',\n        // Cancel button was pressed.\n        // Cancellable (in order to prevent default behavior to clear the container).\n        FORM_CANCELLED: 'core_form_dynamicform_formcancelled',\n        // User attempted to submit the form but there was client-side validation error.\n        CLIENT_VALIDATION_ERROR: 'core_form_dynamicform_clientvalidationerror',\n        // User attempted to submit the form but server returned validation error.\n        SERVER_VALIDATION_ERROR: 'core_form_dynamicform_validationerror',\n        // Error occurred while performing request to the server.\n        // Cancellable (by default calls Notification.exception).\n        ERROR: 'core_form_dynamicform_error',\n        // Right after user pressed no-submit button,\n        // listen to this event if you want to add JS validation or processing for no-submit button.\n        // Cancellable.\n        NOSUBMIT_BUTTON_PRESSED: 'core_form_dynamicform_nosubmitbutton',\n        // Right after user pressed submit button,\n        // listen to this event if you want to add additional JS validation or confirmation dialog.\n        // Cancellable.\n        SUBMIT_BUTTON_PRESSED: 'core_form_dynamicform_submitbutton',\n        // Right after user pressed cancel button,\n        // listen to this event if you want to add confirmation dialog.\n        // Cancellable.\n        CANCEL_BUTTON_PRESSED: 'core_form_dynamicform_cancelbutton',\n    };\n\n    /**\n     * Constructor\n     *\n     * Creates an instance\n     *\n     * @param {Element} container - the parent element for the form\n     * @param {string} formClass full name of the php class that extends \\core_form\\modal , must be in autoloaded location\n     */\n    constructor(container, formClass) {\n        this.formClass = formClass;\n        this.container = container;\n\n        // Ensure strings required for shortforms are always available.\n        getStrings([\n            {key: 'collapseall', component: 'moodle'},\n            {key: 'expandall', component: 'moodle'}\n        ]).catch(Notification.exception);\n\n        // Register delegated events handlers in vanilla JS.\n        this.container.addEventListener('click', e => {\n            if (e.target.matches('form input[type=submit][data-cancel]')) {\n                e.preventDefault();\n                const event = this.trigger(this.events.CANCEL_BUTTON_PRESSED, e.target);\n                if (!event.defaultPrevented) {\n                    this.processCancelButton();\n                }\n            } else if (e.target.matches('form input[type=submit][data-no-submit=\"1\"]')) {\n                e.preventDefault();\n                const event = this.trigger(this.events.NOSUBMIT_BUTTON_PRESSED, e.target);\n                if (!event.defaultPrevented) {\n                    this.processNoSubmitButton(e.target);\n                }\n            }\n        });\n\n        this.container.addEventListener('submit', e => {\n            if (e.target.matches('form')) {\n                e.preventDefault();\n                const event = this.trigger(this.events.SUBMIT_BUTTON_PRESSED);\n                if (!event.defaultPrevented) {\n                    this.submitFormAjax();\n                }\n            }\n        });\n    }\n\n    /**\n     * Loads the form via AJAX and shows it inside a given container\n     *\n     * @param {Object} args\n     * @return {Promise}\n     * @public\n     */\n    load(args = null) {\n        const formData = serialize(args || {});\n        const pendingPromise = new Pending('core_form/dynamicform:load');\n        return this.getBody(formData)\n        .then((resp) => this.updateForm(resp))\n        .then(pendingPromise.resolve);\n    }\n\n    /**\n     * Triggers a custom event\n     *\n     * @private\n     * @param {String} eventName\n     * @param {*} detail\n     * @param {Boolean} cancelable\n     * @return {CustomEvent<unknown>}\n     */\n    trigger(eventName, detail = null, cancelable = true) {\n        const e = new CustomEvent(eventName, {detail, cancelable});\n        this.container.dispatchEvent(e);\n        return e;\n    }\n\n    /**\n     * Add listener for an event\n     *\n     * @param {array} args\n     * @example:\n     *    const dynamicForm = new DynamicForm(...);\n     *    dynamicForm.addEventListener(dynamicForm.events.FORM_SUBMITTED, e => {\n     *        e.preventDefault();\n     *        window.console.log(e.detail);\n     *        dynamicForm.container.innerHTML = 'Thank you, your form is submitted!';\n     *    });\n     */\n    addEventListener(...args) {\n        this.container.addEventListener(...args);\n    }\n\n    /**\n     * Get form body\n     *\n     * @param {String} formDataString form data in format of a query string\n     * @private\n     * @return {Promise}\n     */\n    getBody(formDataString) {\n        return Ajax.call([{\n            methodname: 'core_form_dynamic_form',\n            args: {\n                formdata: formDataString,\n                form: this.formClass,\n            }\n        }])[0]\n        .then(response => {\n            return {html: response.html, js: Fragment.processCollectedJavascript(response.javascript)};\n        });\n    }\n\n    /**\n     * On form submit\n     *\n     * @param {*} response Response received from the form's \"process\" method\n     */\n    onSubmitSuccess(response) {\n        const event = this.trigger(this.events.FORM_SUBMITTED, response);\n        if (event.defaultPrevented) {\n            return;\n        }\n\n        // Default implementation is to remove the form. Event listener should either remove or reload the form\n        // since its contents is no longer correct. For example, if an element was created as a result of\n        // form submission, the \"id\" in the form would be still zero. Also the server-side validation\n        // errors from the previous submission may still be present.\n        this.container.innerHTML = '';\n    }\n\n    /**\n     * On exception during form processing\n     *\n     * @private\n     * @param {Object} exception\n     */\n    onSubmitError(exception) {\n        const event = this.trigger(this.events.ERROR, exception);\n        if (event.defaultPrevented) {\n            return;\n        }\n\n        Notification.exception(exception);\n    }\n\n    /**\n     * Click on a \"submit\" button that is marked in the form as registerNoSubmitButton()\n     *\n     * @method submitButtonPressed\n     * @param {Element} button that was pressed\n     * @fires event:formSubmittedByJavascript\n     */\n    processNoSubmitButton(button) {\n        const pendingPromise = new Pending('core_form/dynamicform:nosubmit');\n        const form = this.getFormNode();\n        const formData = new URLSearchParams([...(new FormData(form)).entries()]);\n        formData.append(button.getAttribute('name'), button.getAttribute('value'));\n\n        FormEvents.notifyFormSubmittedByJavascript(form, true);\n\n        // Add the button name to the form data and submit it.\n        this.disableButtons();\n\n        this.getBody(formData.toString())\n        .then(this.updateForm)\n        .then(pendingPromise.resolve)\n        .catch(exception => this.onSubmitError(exception));\n    }\n\n    /**\n     * Get the form node from the Dialogue.\n     *\n     * @returns {HTMLFormElement}\n     */\n    getFormNode() {\n        return this.container.querySelector('form');\n    }\n\n    /**\n     * Notifies listeners that form dirty state should be reset.\n     *\n     * @fires event:formSubmittedByJavascript\n     */\n    notifyResetFormChanges() {\n        FormEvents.notifyFormSubmittedByJavascript(this.getFormNode(), true);\n        FormChangeChecker.resetFormDirtyState(this.getFormNode());\n    }\n\n    /**\n     * Click on a \"cancel\" button\n     */\n    processCancelButton() {\n        // Notify listeners that the form is about to be submitted (this will reset atto autosave).\n        this.notifyResetFormChanges();\n\n        const event = this.trigger(this.events.FORM_CANCELLED);\n        if (!event.defaultPrevented) {\n            // By default removes the form from the DOM.\n            this.container.innerHTML = '';\n        }\n    }\n\n    /**\n     * Update form contents\n     *\n     * @param {object} param\n     * @param {string} param.html\n     * @param {string} param.js\n     * @returns {Promise}\n     */\n    updateForm({html, js}) {\n        return Templates.replaceNodeContents(this.container, html, js);\n    }\n\n    /**\n     * Validate form elements\n     * @return {Boolean} Whether client-side validation has passed, false if there are errors\n     * @fires event:formSubmittedByJavascript\n     */\n    validateElements() {\n        // Notify listeners that the form is about to be submitted (this will reset atto autosave).\n        FormEvents.notifyFormSubmittedByJavascript(this.getFormNode());\n\n        // Now the change events have run, see if there are any \"invalid\" form fields.\n        const invalid = [...this.container.querySelectorAll('[aria-invalid=\"true\"], .error')];\n\n        // If we found invalid fields, focus on the first one and do not submit via ajax.\n        if (invalid.length) {\n            invalid[0].focus();\n            return false;\n        }\n\n        return true;\n    }\n\n    /**\n     * Disable buttons during form submission\n     */\n    disableButtons() {\n        this.container.querySelectorAll('form input[type=\"submit\"]')\n            .forEach(el => el.setAttribute('disabled', true));\n    }\n\n    /**\n     * Enable buttons after form submission (on validation error)\n     */\n    enableButtons() {\n        this.container.querySelectorAll('form input[type=\"submit\"]')\n            .forEach(el => el.removeAttribute('disabled'));\n    }\n\n    /**\n     * Submit the form via AJAX call to the core_form_dynamic_form WS\n     */\n    async submitFormAjax() {\n        // If we found invalid fields, focus on the first one and do not submit via ajax.\n        if (!(await this.validateElements())) {\n            this.trigger(this.events.CLIENT_VALIDATION_ERROR, null, false);\n            return;\n        }\n        this.disableButtons();\n\n        // Convert all the form elements values to a serialised string.\n        const form = this.container.querySelector('form');\n        const formData = new URLSearchParams([...(new FormData(form)).entries()]);\n\n        // Now we can continue...\n        Ajax.call([{\n            methodname: 'core_form_dynamic_form',\n            args: {\n                formdata: formData.toString(),\n                form: this.formClass\n            }\n        }])[0]\n        .then((response) => {\n            if (!response.submitted) {\n                // Form was not submitted, it could be either because validation failed or because no-submit button was pressed.\n                this.updateForm({html: response.html, js: Fragment.processCollectedJavascript(response.javascript)});\n                this.enableButtons();\n                this.trigger(this.events.SERVER_VALIDATION_ERROR, null, false);\n            } else {\n                // Form was submitted properly.\n                const data = JSON.parse(response.data);\n                this.enableButtons();\n                this.notifyResetFormChanges();\n                this.onSubmitSuccess(data);\n            }\n            return null;\n        })\n        .catch(exception => this.onSubmitError(exception));\n    }\n}\n"],"names":["_interopRequireDefault","obj","__esModule","default","_getRequireWildcardCache","nodeInterop","WeakMap","cacheBabelInterop","cacheNodeInterop","_interopRequireWildcard","_typeof","cache","has","get","newObj","hasPropertyDescriptor","Object","defineProperty","getOwnPropertyDescriptor","key","prototype","hasOwnProperty","call","desc","set","Symbol","iterator","constructor","_regeneratorRuntime","exports","Op","hasOwn","value","$Symbol","iteratorSymbol","asyncIteratorSymbol","asyncIterator","toStringTagSymbol","toStringTag","define","enumerable","configurable","writable","err","wrap","innerFn","outerFn","self","tryLocsList","protoGenerator","Generator","generator","create","context","Context","makeInvokeMethod","tryCatch","fn","arg","type","ContinueSentinel","GeneratorFunction","GeneratorFunctionPrototype","IteratorPrototype","this","getProto","getPrototypeOf","NativeIteratorPrototype","values","Gp","defineIteratorMethods","forEach","method","_invoke","AsyncIterator","PromiseImpl","invoke","resolve","reject","record","result","__await","then","unwrapped","error","previousPromise","callInvokeWithMethodAndArg","state","Error","doneResult","delegate","delegateResult","maybeInvokeDelegate","sent","_sent","dispatchException","abrupt","done","methodName","undefined","return","TypeError","info","resultName","next","nextLoc","pushTryEntry","locs","entry","tryLoc","catchLoc","finallyLoc","afterLoc","tryEntries","push","resetTryEntry","completion","reset","iterable","iteratorMethod","isNaN","length","i","displayName","isGeneratorFunction","genFun","ctor","name","mark","setPrototypeOf","__proto__","awrap","async","Promise","iter","keys","val","object","reverse","pop","skipTempReset","prev","charAt","slice","stop","rootRecord","rval","exception","handle","loc","caught","hasCatch","hasFinally","finallyEntry","complete","finish","catch","thrown","delegateYield","asyncGeneratorStep","gen","_next","_throw","_toConsumableArray","arr","Array","isArray","_arrayLikeToArray","_arrayWithoutHoles","from","_iterableToArray","o","minLen","n","toString","test","_unsupportedIterableToArray","_nonIterableSpread","len","arr2","_defineProperties","target","props","descriptor","_toPropertyKey","input","hint","prim","toPrimitive","res","String","Number","_toPrimitive","FormChangeChecker","FormEvents","_ajax","_fragment","_notification","_pending","_templates","DynamicForm","container","formClass","_this","instance","Constructor","_classCallCheck","FORM_SUBMITTED","FORM_CANCELLED","CLIENT_VALIDATION_ERROR","SERVER_VALIDATION_ERROR","ERROR","NOSUBMIT_BUTTON_PRESSED","SUBMIT_BUTTON_PRESSED","CANCEL_BUTTON_PRESSED","getStrings","component","Notification","addEventListener","e","matches","preventDefault","trigger","events","defaultPrevented","processCancelButton","processNoSubmitButton","submitFormAjax","protoProps","staticProps","_submitFormAjax","_this2","args","formData","serialize","pendingPromise","Pending","getBody","resp","updateForm","eventName","detail","cancelable","CustomEvent","dispatchEvent","_this$container","apply","arguments","formDataString","Ajax","methodname","formdata","form","response","html","js","Fragment","processCollectedJavascript","javascript","innerHTML","button","_this3","getFormNode","URLSearchParams","FormData","entries","append","getAttribute","notifyFormSubmittedByJavascript","disableButtons","onSubmitError","querySelector","resetFormDirtyState","notifyResetFormChanges","_ref","Templates","replaceNodeContents","invalid","querySelectorAll","focus","el","setAttribute","removeAttribute","_callee","_this4","_context","validateElements","submitted","data","JSON","parse","enableButtons","onSubmitSuccess","_exports"],"mappings":"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"}