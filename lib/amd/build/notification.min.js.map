{"version":3,"file":"notification.min.js","sources":["../src/notification.js"],"sourcesContent":["// This file is part of Moodle - http://moodle.org/\n//\n// Moodle is free software: you can redistribute it and/or modify\n// it under the terms of the GNU General Public License as published by\n// the Free Software Foundation, either version 3 of the License, or\n// (at your option) any later version.\n//\n// Moodle is distributed in the hope that it will be useful,\n// but WITHOUT ANY WARRANTY; without even the implied warranty of\n// MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n// GNU General Public License for more details.\n//\n// You should have received a copy of the GNU General Public License\n// along with Moodle.  If not, see <http://www.gnu.org/licenses/>.\n\n/**\n * Notification manager for in-page notifications in Moodle.\n *\n * @module     core/notification\n * @copyright  2015 Damyon Wiese <damyon@moodle.com>\n * @license    http://www.gnu.org/copyleft/gpl.html GNU GPL v3 or later\n * @since      2.9\n */\nimport Pending from 'core/pending';\nimport Log from 'core/log';\n\nlet currentContextId = M.cfg.contextid;\n\nconst notificationTypes = {\n    success:  'core/notification_success',\n    info:     'core/notification_info',\n    warning:  'core/notification_warning',\n    error:    'core/notification_error',\n};\n\nconst notificationRegionId = 'user-notifications';\n\nconst Selectors = {\n    notificationRegion: `#${notificationRegionId}`,\n    fallbackRegionParents: [\n        '#region-main',\n        '[role=\"main\"]',\n        'body',\n    ],\n};\n\nconst setupTargetRegion = () => {\n    let targetRegion = getNotificationRegion();\n    if (targetRegion) {\n        return false;\n    }\n\n    const newRegion = document.createElement('span');\n    newRegion.id = notificationRegionId;\n\n    return Selectors.fallbackRegionParents.some(selector => {\n        const targetRegion = document.querySelector(selector);\n\n        if (targetRegion) {\n            targetRegion.prepend(newRegion);\n            return true;\n        }\n\n        return false;\n    });\n};\n\n/**\n * A notification object displayed to a user.\n *\n * @typedef  {Object} Notification\n * @property {string} message       The body of the notification\n * @property {string} type          The type of notification to add (error, warning, info, success).\n * @property {Boolean} closebutton  Whether to show the close button.\n * @property {Boolean} announce     Whether to announce to screen readers.\n */\n\n/**\n * Poll the server for any new notifications.\n *\n * @method\n * @returns {Promise}\n */\nexport const fetchNotifications = async() => {\n    const Ajax = await import('core/ajax');\n\n    return Ajax.call([{\n        methodname: 'core_fetch_notifications',\n        args: {\n            contextid: currentContextId\n        }\n    }])[0]\n    .then(addNotifications);\n};\n\n/**\n * Add all of the supplied notifications.\n *\n * @method\n * @param {Notification[]} notifications The list of notificaitons\n * @returns {Promise}\n */\nconst addNotifications = notifications => {\n    if (!notifications.length) {\n        return Promise.resolve();\n    }\n\n    const pendingPromise = new Pending('core/notification:addNotifications');\n    notifications.forEach(notification => renderNotification(notification.template, notification.variables));\n\n    return pendingPromise.resolve();\n};\n\n/**\n * Add a notification to the page.\n *\n * Note: This does not cause the notification to be added to the session.\n *\n * @method\n * @param {Notification} notification The notification to add.\n * @returns {Promise}\n */\nexport const addNotification = notification => {\n    const pendingPromise = new Pending('core/notification:addNotifications');\n\n    let template = notificationTypes.error;\n\n    notification = {\n        closebutton:    true,\n        announce:       true,\n        type:           'error',\n        ...notification,\n    };\n\n    if (notification.template) {\n        template = notification.template;\n        delete notification.template;\n    } else if (notification.type) {\n        if (typeof notificationTypes[notification.type] !== 'undefined') {\n            template = notificationTypes[notification.type];\n        }\n        delete notification.type;\n    }\n\n    return renderNotification(template, notification)\n    .then(pendingPromise.resolve);\n};\n\nconst renderNotification = async(template, variables) => {\n    if (typeof variables.message === 'undefined' || !variables.message) {\n        Log.debug('Notification received without content. Skipping.');\n        return;\n    }\n\n    const pendingPromise = new Pending('core/notification:renderNotification');\n    const Templates = await import('core/templates');\n\n    Templates.renderForPromise(template, variables)\n    .then(({html, js = ''}) => {\n        Templates.prependNodeContents(getNotificationRegion(), html, js);\n\n        return;\n    })\n    .then(pendingPromise.resolve)\n    .catch(exception);\n};\n\nconst getNotificationRegion = () => document.querySelector(Selectors.notificationRegion);\n\n/**\n * Alert dialogue.\n *\n * @method\n * @param {String|Promise} title\n * @param {String|Promise} message\n * @param {String|Promise} cancelText\n * @returns {Promise}\n */\nexport const alert = async(title, message, cancelText) => {\n    var pendingPromise = new Pending('core/notification:alert');\n\n    const ModalFactory = await import('core/modal_factory');\n\n    return ModalFactory.create({\n        type: ModalFactory.types.ALERT,\n        body: message,\n        title: title,\n        buttons: {\n            cancel: cancelText,\n        },\n        removeOnClose: true,\n    })\n    .then(function(modal) {\n        modal.show();\n\n        pendingPromise.resolve();\n        return modal;\n    });\n};\n\n/**\n * The confirm has now been replaced with a save and cancel dialogue.\n *\n * @method\n * @param {String|Promise} title\n * @param {String|Promise} question\n * @param {String|Promise} saveLabel\n * @param {String|Promise} noLabel\n * @param {String|Promise} saveCallback\n * @param {String|Promise} cancelCallback\n * @returns {Promise}\n */\nexport const confirm = (title, question, saveLabel, noLabel, saveCallback, cancelCallback) =>\n        saveCancel(title, question, saveLabel, saveCallback, cancelCallback);\n\n/**\n * The Save and Cancel dialogue helper.\n *\n * @method\n * @param {String|Promise} title\n * @param {String|Promise} question\n * @param {String|Promise} saveLabel\n * @param {String|Promise} saveCallback\n * @param {String|Promise} cancelCallback\n * @param {Object} options\n * @param {HTMLElement} [options.triggerElement=null] The element that triggered the modal (will receive the focus after hidden)\n * @returns {Promise}\n */\nexport const saveCancel = async(title, question, saveLabel, saveCallback, cancelCallback, {\n    triggerElement = null,\n} = {}) => {\n    const pendingPromise = new Pending('core/notification:confirm');\n\n    const [\n        ModalFactory,\n        ModalEvents,\n    ] = await Promise.all([\n        import('core/modal_factory'),\n        import('core/modal_events'),\n    ]);\n\n    return ModalFactory.create({\n        type: ModalFactory.types.SAVE_CANCEL,\n        title: title,\n        body: question,\n        buttons: {\n            // Note: The noLabel is no longer supported.\n            save: saveLabel,\n        },\n        removeOnClose: true,\n    })\n    .then(function(modal) {\n        modal.show();\n\n        modal.getRoot().on(ModalEvents.save, saveCallback);\n        modal.getRoot().on(ModalEvents.cancel, cancelCallback);\n        modal.getRoot().on(ModalEvents.hidden, () => triggerElement?.focus());\n        pendingPromise.resolve();\n\n        return modal;\n    });\n};\n\n/**\n * The Delete and Cancel dialogue helper.\n *\n * @method\n * @param {String|Promise} title\n * @param {String|Promise} question\n * @param {String|Promise} deleteLabel\n * @param {String|Promise} deleteCallback\n * @param {String|Promise} cancelCallback\n * @param {Object} options\n * @param {HTMLElement} [options.triggerElement=null] The element that triggered the modal (will receive the focus after hidden)\n * @returns {Promise}\n */\nexport const deleteCancel = async(title, question, deleteLabel, deleteCallback, cancelCallback, {\n    triggerElement = null,\n} = {}) => {\n    const pendingPromise = new Pending('core/notification:confirm');\n\n    const [\n        ModalFactory,\n        ModalEvents,\n    ] = await Promise.all([\n        import('core/modal_factory'),\n        import('core/modal_events'),\n    ]);\n\n    return ModalFactory.create({\n        type: ModalFactory.types.DELETE_CANCEL,\n        title: title,\n        body: question,\n        buttons: {\n            'delete': deleteLabel\n        },\n        removeOnClose: true,\n    })\n        .then(function(modal) {\n            modal.show();\n\n            modal.getRoot().on(ModalEvents.delete, deleteCallback);\n            modal.getRoot().on(ModalEvents.cancel, cancelCallback);\n            modal.getRoot().on(ModalEvents.hidden, () => triggerElement?.focus());\n            pendingPromise.resolve();\n\n            return modal;\n        });\n};\n\n\n/**\n * Add all of the supplied notifications.\n *\n * @param {Promise|String} title The header of the modal\n * @param {Promise|String} question What do we want the user to confirm\n * @param {Promise|String} saveLabel The modal action link text\n * @param {Object} options\n * @param {HTMLElement} [options.triggerElement=null] The element that triggered the modal (will receive the focus after hidden)\n * @return {Promise}\n */\nexport const saveCancelPromise = (title, question, saveLabel, {\n    triggerElement = null,\n} = {}) => new Promise((resolve, reject) => {\n    saveCancel(title, question, saveLabel, resolve, reject, {triggerElement});\n});\n\n/**\n * Add all of the supplied notifications.\n *\n * @param {Promise|String} title The header of the modal\n * @param {Promise|String} question What do we want the user to confirm\n * @param {Promise|String} deleteLabel The modal action link text\n * @param {Object} options\n * @param {HTMLElement} [options.triggerElement=null] The element that triggered the modal (will receive the focus after hidden)\n * @return {Promise}\n */\nexport const deleteCancelPromise = (title, question, deleteLabel, {\n    triggerElement = null,\n} = {}) => new Promise((resolve, reject) => {\n    deleteCancel(title, question, deleteLabel, resolve, reject, {triggerElement});\n});\n\n/**\n * Wrap M.core.exception.\n *\n * @method\n * @param {Error} ex\n */\nexport const exception = async ex => {\n    const pendingPromise = new Pending('core/notification:displayException');\n\n    // Fudge some parameters.\n    if (!ex.stack) {\n        ex.stack = '';\n    }\n\n    if (ex.debuginfo) {\n        ex.stack += ex.debuginfo + '\\n';\n    }\n\n    if (!ex.backtrace && ex.stacktrace) {\n        ex.backtrace = ex.stacktrace;\n    }\n\n    if (ex.backtrace) {\n        ex.stack += ex.backtrace;\n        const ln = ex.backtrace.match(/line ([^ ]*) of/);\n        const fn = ex.backtrace.match(/ of ([^:]*): /);\n        if (ln && ln[1]) {\n            ex.lineNumber = ln[1];\n        }\n        if (fn && fn[1]) {\n            ex.fileName = fn[1];\n            if (ex.fileName.length > 30) {\n                ex.fileName = '...' + ex.fileName.substr(ex.fileName.length - 27);\n            }\n        }\n    }\n\n    if (typeof ex.name === 'undefined' && ex.errorcode) {\n        ex.name = ex.errorcode;\n    }\n\n    const Y = await import('core/yui');\n    Y.use('moodle-core-notification-exception', function() {\n        var modal = new M.core.exception(ex);\n\n        modal.show();\n\n        pendingPromise.resolve();\n    });\n};\n\n/**\n * Initialise the page for the suppled context, and displaying the supplied notifications.\n *\n * @method\n * @param {Number} contextId\n * @param {Notification[]} notificationList\n */\nexport const init = (contextId, notificationList) => {\n    currentContextId = contextId;\n\n    // Setup the message target region if it isn't setup already.\n    setupTargetRegion();\n\n    // Add provided notifications.\n    addNotifications(notificationList);\n};\n\n// To maintain backwards compatability we export default here.\nexport default {\n    init,\n    fetchNotifications,\n    addNotification,\n    alert,\n    confirm,\n    saveCancel,\n    saveCancelPromise,\n    deleteCancelPromise,\n    exception,\n};\n"],"names":["_pending","_interopRequireDefault","_log","_systemImportTransformerGlobalIdentifier","window","self","global","obj","__esModule","default","_slicedToArray","arr","i","Array","isArray","_arrayWithHoles","_i","Symbol","iterator","_s","_e","_x","_r","_arr","_n","_d","call","next","Object","done","push","value","length","err","return","_iterableToArrayLimit","o","minLen","_arrayLikeToArray","n","prototype","toString","slice","constructor","name","from","test","_unsupportedIterableToArray","TypeError","_nonIterableRest","len","arr2","ownKeys","object","enumerableOnly","keys","getOwnPropertySymbols","symbols","filter","sym","getOwnPropertyDescriptor","enumerable","apply","_defineProperty","key","arg","input","hint","_typeof","prim","toPrimitive","undefined","res","String","Number","_toPrimitive","_toPropertyKey","defineProperty","configurable","writable","_regeneratorRuntime","exports","Op","hasOwn","hasOwnProperty","desc","$Symbol","iteratorSymbol","asyncIteratorSymbol","asyncIterator","toStringTagSymbol","toStringTag","define","wrap","innerFn","outerFn","tryLocsList","protoGenerator","Generator","generator","create","context","Context","makeInvokeMethod","tryCatch","fn","type","ContinueSentinel","GeneratorFunction","GeneratorFunctionPrototype","IteratorPrototype","this","getProto","getPrototypeOf","NativeIteratorPrototype","values","Gp","defineIteratorMethods","forEach","method","_invoke","AsyncIterator","PromiseImpl","invoke","resolve","reject","record","result","__await","then","unwrapped","error","previousPromise","callInvokeWithMethodAndArg","state","Error","doneResult","delegate","delegateResult","maybeInvokeDelegate","sent","_sent","dispatchException","abrupt","methodName","info","resultName","nextLoc","pushTryEntry","locs","entry","tryLoc","catchLoc","finallyLoc","afterLoc","tryEntries","resetTryEntry","completion","reset","iterable","iteratorMethod","isNaN","displayName","isGeneratorFunction","genFun","ctor","mark","setPrototypeOf","__proto__","awrap","async","Promise","iter","val","reverse","pop","skipTempReset","prev","charAt","stop","rootRecord","rval","exception","handle","loc","caught","hasCatch","hasFinally","finallyEntry","complete","finish","catch","thrown","delegateYield","asyncGeneratorStep","gen","_next","_throw","_asyncToGenerator","args","arguments","_ref","currentContextId","M","cfg","contextid","notificationTypes","success","warning","Selectors","notificationRegion","concat","fallbackRegionParents","fetchNotifications","_callee","Ajax","_context","amd","require","module","component","loader","methodname","addNotifications","_exports","notifications","pendingPromise","Pending","notification","renderNotification","template","variables","addNotification","target","source","getOwnPropertyDescriptors","defineProperties","_objectSpread","closebutton","announce","_ref2","_ref4","_callee2","Templates","_context2","message","Log","debug","renderForPromise","_ref3","html","_ref3$js","js","prependNodeContents","getNotificationRegion","_x2","document","querySelector","alert","title","cancelText","ModalFactory","_context3","types","ALERT","body","buttons","cancel","removeOnClose","modal","show","_callee3","_x3","_x4","_x5","confirm","question","saveLabel","noLabel","saveCallback","cancelCallback","saveCancel","_ref5","_callee4","_ref6","_ref6$triggerElement","triggerElement","_yield$Promise$all","_yield$Promise$all2","ModalEvents","_args4","_context4","all","SAVE_CANCEL","save","getRoot","on","hidden","focus","_x6","_x7","_x8","_x9","_x10","_ref7","deleteCancel","_callee5","deleteLabel","deleteCallback","_ref8","_ref8$triggerElement","_yield$Promise$all3","_yield$Promise$all4","_args5","_context5","DELETE_CANCEL","delete","_x11","_x12","_x13","_x14","_x15","saveCancelPromise","_ref9","_ref9$triggerElement","deleteCancelPromise","_ref10","_ref10$triggerElement","_ref11","ex","ln","_context6","stack","debuginfo","backtrace","stacktrace","match","lineNumber","fileName","substr","errorcode","use","core","_callee6","_x16","init","contextId","notificationList","newRegion","createElement","id","some","selector","targetRegion","prepend","setupTargetRegion","_default"],"mappings":"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"}