define ("core/moremenu",["exports","core/menu_navigation"],function(a,b){"use strict";Object.defineProperty(a,"__esModule",{value:!0});a.default=void 0;b=function(a){return a&&a.__esModule?a:{default:a}}(b);var c={regions:{moredropdown:"[data-region=\"moredropdown\"]",morebutton:"[data-region=\"morebutton\"]"},classes:{dropdownitem:"dropdown-item",dropdownmoremenu:"dropdownmoremenu",hidden:"d-none",active:"active",nav:"nav",navlink:"nav-link",observed:"observed"},attributes:{menu:"[role=\"menu\"]",dropdowntoggle:"[data-toggle=\"dropdown\"]"}},d=!1,e=function(a){var b=a.parentNode.offsetHeight+1,d=a.querySelector(c.regions.moredropdown),h=a.querySelector(c.regions.morebutton);if(a.offsetHeight>b){h.classList.remove(c.classes.hidden);var i=Array.from(a.children).reverse();i.forEach(function(d){if(!d.classList.contains(c.classes.dropdownmoremenu)){if(a.offsetHeight>b){var e=a.removeChild(d);f(a,e,!0)}}})}else{if("children"in d){Array.from(d.children).forEach(function(c){if(a.offsetHeight<b&&"true"!==c.dataset.forceintomoremenu){var e=d.removeChild(c);g(a,e)}});if(0===Array.from(d.children).length){h.classList.add(c.classes.hidden)}}if(a.offsetHeight>b){e(a)}}a.parentNode.classList.add(c.classes.observed)},f=function(a,b){var d=2<arguments.length&&arguments[2]!==void 0?arguments[2]:!1,e=a.querySelector(c.regions.moredropdown),f=a.querySelector(c.attributes.dropdowntoggle),g=b.querySelector("."+c.classes.navlink);if(g.classList.contains(c.classes.active)){f.classList.add(c.classes.active)}g.setAttribute("role","menuitem");g.classList.remove(c.classes.navlink);g.classList.add(c.classes.dropdownitem);if(d){e.prepend(b)}else{e.append(b)}},g=function(a,b){var e=a.querySelector(c.regions.morebutton),f=a.querySelector(c.attributes.dropdowntoggle),g=b.querySelector("."+c.classes.dropdownitem);if(d){g.setAttribute("role","tab")}if(g.classList.contains(c.classes.active)){f.classList.remove(c.classes.active)}g.classList.remove(c.classes.dropdownitem);g.classList.add(c.classes.navlink);a.insertBefore(b,e)},h=function(a){d="tablist"===a.getAttribute("role");if("children"in a){var g=a.querySelector(c.regions.morebutton),h=Array.from(a.children);h.forEach(function(b){if(!b.classList.contains(c.classes.dropdownmoremenu)&&"true"===b.dataset.forceintomoremenu){f(a,b,!1);if(g.classList.contains(c.classes.hidden)){g.classList.remove(c.classes.hidden)}}})}e(a);(0,b.default)(a);window.addEventListener("resize",function(){e(a);(0,b.default)(a)})};a.default=h;return a.default});
//# sourceMappingURL=moremenu.min.js.map
