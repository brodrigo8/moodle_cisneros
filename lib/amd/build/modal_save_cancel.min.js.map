{"version":3,"file":"modal_save_cancel.min.js","sources":["../src/modal_save_cancel.js"],"sourcesContent":["// This file is part of Moodle - http://moodle.org/\n//\n// Moodle is free software: you can redistribute it and/or modify\n// it under the terms of the GNU General Public License as published by\n// the Free Software Foundation, either version 3 of the License, or\n// (at your option) any later version.\n//\n// Moodle is distributed in the hope that it will be useful,\n// but WITHOUT ANY WARRANTY; without even the implied warranty of\n// MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n// GNU General Public License for more details.\n//\n// You should have received a copy of the GNU General Public License\n// along with Moodle.  If not, see <http://www.gnu.org/licenses/>.\n\n/**\n * Contain the logic for the save/cancel modal.\n *\n * @module     core/modal_save_cancel\n * @copyright  2016 Ryan Wyllie <ryan@moodle.com>\n * @license    http://www.gnu.org/copyleft/gpl.html GNU GPL v3 or later\n */\n\nimport Modal from 'core/modal';\nimport Notification from 'core/notification';\n\n/**\n * The Save/Cancel Modal.\n *\n * @class\n * @extends module:core/modal\n */\nexport default class extends Modal {\n    constructor(root) {\n        super(root);\n\n        if (!this.getFooter().find(this.getActionSelector('save')).length) {\n            Notification.exception({message: 'No save button found'});\n        }\n\n        if (!this.getFooter().find(this.getActionSelector('cancel')).length) {\n            Notification.exception({message: 'No cancel button found'});\n        }\n    }\n\n    /**\n     * Register all event listeners.\n     */\n    registerEventListeners() {\n        // Call the parent registration.\n        super.registerEventListeners();\n\n        // Register to close on save/cancel.\n        this.registerCloseOnSave();\n        this.registerCloseOnCancel();\n    }\n\n    /**\n     * Override parent implementation to prevent changing the footer content.\n     */\n    setFooter() {\n        Notification.exception({message: 'Can not change the footer of a save cancel modal'});\n        return;\n    }\n\n    /**\n     * Set the title of the save button.\n     *\n     * @param {String|Promise} value The button text, or a Promise which will resolve it\n     * @returns{Promise}\n     */\n    setSaveButtonText(value) {\n        return this.setButtonText('save', value);\n    }\n}\n"],"names":["_interopRequireDefault","obj","__esModule","default","_defineProperties","target","props","i","length","descriptor","enumerable","configurable","writable","Object","defineProperty","arg","key","input","hint","_typeof","prim","Symbol","toPrimitive","undefined","res","call","TypeError","String","Number","_toPrimitive","_get","Reflect","get","bind","property","receiver","base","_superPropBase","desc","getOwnPropertyDescriptor","arguments","value","apply","this","object","prototype","hasOwnProperty","_getPrototypeOf","_setPrototypeOf","o","p","setPrototypeOf","__proto__","_createSuper","Derived","hasNativeReflectConstruct","construct","sham","Proxy","Boolean","valueOf","e","_isNativeReflectConstruct","result","Super","NewTarget","constructor","_possibleConstructorReturn","self","ReferenceError","_assertThisInitialized","getPrototypeOf","_modal","_notification","_default","_Modal","subClass","superClass","create","_inherits","Constructor","protoProps","staticProps","_super","root","_this","instance","_classCallCheck","getFooter","find","getActionSelector","Notification","exception","message","registerCloseOnSave","registerCloseOnCancel","setButtonText","Modal","_exports"],"mappings":"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"}