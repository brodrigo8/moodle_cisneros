define ("core_message/message_popover",["jquery","core/custom_interaction_events","core/pubsub","core_message/message_drawer_events","core/drawer_events"],function(a,b,c,d,e){var f={COUNT_CONTAINER:"[data-region=\"count-container\"]"},g=function(a){c.publish(e.TOGGLE_VISIBILITY,a)},h=function(a){return function(){var b=a.find(f.COUNT_CONTAINER),c=parseInt(b.text(),10);if(isNaN(c)){b.addClass("hidden")}else if(!c||2>c){b.addClass("hidden")}else{c=c-1;b.text(c)}}},i=function(a){b.define(a,[b.events.activate]);a.on(b.events.activate,function(b,c){var d=a.attr("data-toggle");g(d);c.originalEvent.preventDefault()});c.subscribe(d.CONVERSATION_READ,h(a));c.subscribe(d.CONTACT_REQUEST_ACCEPTED,h(a));c.subscribe(d.CONTACT_REQUEST_DECLINED,h(a))};return{init:function init(b){b=a(b);i(b)}}});
//# sourceMappingURL=message_popover.min.js.map
